(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{1444:e=>{e.exports={select:"Select_select__qsG66"}},1752:e=>{e.exports={button:"Button_button__JJiqJ"}},2861:(e,t,o)=>{"use strict";o.d(t,{p:()=>r});var n=o(7876);o(4232);var a=o(4680),i=o.n(a);function r(e){return(0,n.jsx)("input",{className:i().input,...e})}},3611:(e,t,o)=>{"use strict";o.d(t,{db:()=>l,j:()=>s});var n=o(6042),a=o(9917),i=o(2964);let r=(0,n.Wp)({apiKey:"AIzaSyCbcp-FQGx8XpQJZa4yxbXKEhXXWB40Y-8",authDomain:"profnet001-c5b7f.firebaseapp.com",projectId:"profnet001-c5b7f",storageBucket:"profnet001-c5b7f.firebasestorage.app",messagingSenderId:"1016559728126",appId:"1:1016559728126:web:65125d32db552946ca7caf"}),s=(0,a.xI)(r),l=(0,i.aU)(r)},3831:(e,t,o)=>{"use strict";o.d(t,{l:()=>r});var n=o(7876);o(4232);var a=o(1444),i=o.n(a);function r(e){return(0,n.jsx)("select",{className:i().select,...e})}},4680:e=>{e.exports={input:"Input_input__SBSuV"}},4850:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>h});var n=o(7876),a=o(2964),i=o(3611),r=o(4232),s=o(9099),l=o(9917),c=o(6101),d=o(2861),p=o(3831),u=o(5919);function h(){let e=(0,s.useRouter)(),[t,o]=(0,r.useState)(null),[h,x]=(0,r.useState)(""),[g,m]=(0,r.useState)(""),[f,v]=(0,r.useState)(""),[j,w]=(0,r.useState)(""),[b,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(0,l.hg)(i.j,async t=>{if(t){o(t);let e=(0,a.H9)(i.db,"users",t.uid),n=await (0,a.x7)(e);if(n.exists()){let e=n.data();x(e.name||""),m(e.email||""),v(e.state||""),w(e.network||"")}}else e.replace("/login")})},[e]);let C=async e=>{if(!e.target.files||!t)return;let o=e.target.files[0],n=new FormData;n.append("image",o),y(!0);try{let e=await fetch("https://api.imgur.com/3/image",{method:"POST",headers:{Authorization:"Client-ID d93758b8cc72b76"},body:n}),o=await e.json();if(!o.success)throw Error("Falha no upload Imgur");let r=o.data.link;await (0,l.r7)(t,{photoURL:r}),await (0,a.BN)((0,a.H9)(i.db,"users",t.uid),{name:h,email:g,state:f,network:j,photoURL:r,updatedAt:new Date}),alert("Foto de perfil atualizada com sucesso!")}catch(e){console.error("Erro ao enviar imagem:",e),alert("Erro ao enviar imagem.")}y(!1)},k=async()=>{console.log("Tentando salvar no Firestore..."),t&&(await (0,a.BN)((0,a.H9)(i.db,"users",t.uid),{name:h,email:g,state:f,network:j,updatedAt:new Date}),alert("Informa\xe7\xf5es atualizadas com sucesso!"))},S=async()=>{await (0,l.CI)(i.j),e.push("/login")};return t?(0,n.jsxs)(c.P,{children:[(0,n.jsx)("h1",{style:{textAlign:"center",marginBottom:24},children:"Perfil"}),(0,n.jsxs)("div",{style:{position:"relative",width:100,margin:"0 auto 24px"},children:[(0,n.jsx)("img",{src:(null==t?void 0:t.photoURL)||"https://www.w3schools.com/howto/img_avatar.png",width:100,height:100,alt:"Avatar",style:{borderRadius:"50%",objectFit:"cover",border:"2px solid #6b46c1"}}),(0,n.jsx)("label",{htmlFor:"avatarUpload",style:{position:"absolute",bottom:0,right:0,background:"#6b46c1",borderRadius:"50%",width:24,height:24,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",boxShadow:"0 0 3px rgba(0,0,0,0.3)"},title:"Alterar foto",children:"✏️"}),(0,n.jsx)("input",{id:"avatarUpload",type:"file",accept:"image/*",onChange:C,disabled:b,style:{display:"none"}})]}),(0,n.jsx)(d.p,{value:h,placeholder:"Nome completo",onChange:e=>x(e.target.value)}),(0,n.jsx)(d.p,{type:"email",value:g,placeholder:"E-mail",onChange:e=>m(e.target.value)}),(0,n.jsxs)(p.l,{value:f,onChange:e=>v(e.target.value),children:[(0,n.jsx)("option",{value:"",children:"Estado"}),(0,n.jsx)("option",{value:"AC",children:"Acre"}),(0,n.jsx)("option",{value:"AL",children:"Alagoas"}),(0,n.jsx)("option",{value:"AP",children:"Amap\xe1"}),(0,n.jsx)("option",{value:"AM",children:"Amazonas"}),(0,n.jsx)("option",{value:"BA",children:"Bahia"}),(0,n.jsx)("option",{value:"CE",children:"Cear\xe1"}),(0,n.jsx)("option",{value:"DF",children:"Distrito Federal"}),(0,n.jsx)("option",{value:"ES",children:"Esp\xedrito Santo"}),(0,n.jsx)("option",{value:"GO",children:"Goi\xe1s"}),(0,n.jsx)("option",{value:"MA",children:"Maranh\xe3o"}),(0,n.jsx)("option",{value:"MT",children:"Mato Grosso"}),(0,n.jsx)("option",{value:"MS",children:"Mato Grosso do Sul"}),(0,n.jsx)("option",{value:"MG",children:"Minas Gerais"}),(0,n.jsx)("option",{value:"PA",children:"Par\xe1"}),(0,n.jsx)("option",{value:"PB",children:"Para\xedba"}),(0,n.jsx)("option",{value:"PR",children:"Paran\xe1"}),(0,n.jsx)("option",{value:"PE",children:"Pernambuco"}),(0,n.jsx)("option",{value:"PI",children:"Piau\xed"}),(0,n.jsx)("option",{value:"RJ",children:"Rio de Janeiro"}),(0,n.jsx)("option",{value:"RN",children:"Rio Grande do Norte"}),(0,n.jsx)("option",{value:"RS",children:"Rio Grande do Sul"}),(0,n.jsx)("option",{value:"RO",children:"Rond\xf4nia"}),(0,n.jsx)("option",{value:"RR",children:"Roraima"}),(0,n.jsx)("option",{value:"SC",children:"Santa Catarina"}),(0,n.jsx)("option",{value:"SP",children:"S\xe3o Paulo"}),(0,n.jsx)("option",{value:"SE",children:"Sergipe"}),(0,n.jsx)("option",{value:"TO",children:"Tocantins"})]}),(0,n.jsxs)(p.l,{value:j,onChange:e=>w(e.target.value),children:[(0,n.jsx)("option",{value:"",children:"Rede"}),(0,n.jsx)("option",{value:"municipal",children:"Rede Municipal"}),(0,n.jsx)("option",{value:"estadual",children:"Rede Estadual"}),(0,n.jsx)("option",{value:"federal",children:"Rede Federal"}),(0,n.jsx)("option",{value:"privada",children:"Rede Privada"})]}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[(0,n.jsx)("span",{children:"Senha"}),(0,n.jsx)(u.$,{style:{width:"auto",padding:"4px 8px",background:"transparent",color:"#6b46c1",border:"none"},onClick:()=>{},children:"Alterar senha"})]}),(0,n.jsx)(u.$,{onClick:k,children:"Salvar altera\xe7\xf5es"}),(null==t?void 0:t.email)==="juliaojunior@gmail.com"&&(0,n.jsx)(u.$,{style:{marginTop:16,background:"#4A5568"},onClick:()=>e.push("/admin"),children:"Acessar Painel do Administrador"}),(0,n.jsx)(u.$,{style:{background:"transparent",color:"#B91C1C",marginTop:12},onClick:S,children:"Sair da conta"})]}):null}},5919:(e,t,o)=>{"use strict";o.d(t,{$:()=>r});var n=o(7876);o(4232);var a=o(1752),i=o.n(a);function r(e){return(0,n.jsx)("button",{className:i().button,...e})}},5965:(e,t,o)=>{"use strict";o.d(t,{k5:()=>l});var n=o(4232),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=n.createContext&&n.createContext(a),r=function(){return(r=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var a in t=arguments[o])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]]);return o};function l(e){return function(t){return n.createElement(c,r({attr:r({},e.attr)},t),function e(t){return t&&t.map(function(t,o){return n.createElement(t.tag,r({key:o},t.attr),e(t.child))})}(e.child))}}function c(e){var t=function(t){var o,a=e.attr,i=e.size,l=e.title,c=s(e,["attr","size","title"]),d=i||t.size||"1em";return t.className&&(o=t.className),e.className&&(o=(o?o+" ":"")+e.className),n.createElement("svg",r({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,c,{className:o,style:r(r({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&n.createElement("title",null,l),e.children)};return void 0!==i?n.createElement(i.Consumer,null,function(e){return t(e)}):t(a)}},6101:(e,t,o)=>{"use strict";o.d(t,{P:()=>f});var n=o(7876),a=o(7232),i=o(9099),r=o(4232),s=o(4081),l=o(3611),c=o(8490);let d=a.Ay.div.withConfig({componentId:"sc-1438e86f-0"})(["min-height:100vh;padding-bottom:80px;position:relative;"]),p=a.Ay.header.withConfig({componentId:"sc-1438e86f-1"})(["background:",";padding:",";box-shadow:",";position:sticky;top:0;z-index:10;display:flex;justify-content:space-between;align-items:center;"],c.w.colors.cardBg,c.w.spacing.md,c.w.shadows.sm),u=a.Ay.div.withConfig({componentId:"sc-1438e86f-2"})(["display:flex;align-items:center;gap:",";font-family:",";font-weight:700;font-size:1.2rem;color:",";"],c.w.spacing.sm,c.w.fonts.heading,c.w.colors.primary),h=a.Ay.main.withConfig({componentId:"sc-1438e86f-3"})(["padding:",";max-width:1200px;margin:0 auto;"],c.w.spacing.lg),x=a.Ay.nav.withConfig({componentId:"sc-1438e86f-4"})(["position:fixed;bottom:0;left:0;right:0;background:",";display:flex;justify-content:space-around;padding:"," 0;box-shadow:0 -2px 10px rgba(0,0,0,0.05);z-index:100;"],c.w.colors.cardBg,c.w.spacing.sm),g=a.Ay.button.withConfig({componentId:"sc-1438e86f-5"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;color:",";background:transparent;border:none;cursor:pointer;padding:",";font-size:0.75rem;transition:color ",";&:hover{color:",";}"],e=>e.active?c.w.colors.primary:c.w.colors.text.secondary,c.w.spacing.sm,c.w.transitions.fast,c.w.colors.primary),m=a.Ay.div.withConfig({componentId:"sc-1438e86f-6"})(["width:40px;height:40px;border-radius:50%;background-color:",";color:white;display:flex;align-items:center;justify-content:center;font-weight:bold;cursor:pointer;overflow:hidden;img{width:100%;height:100%;object-fit:cover;}"],c.w.colors.primary);function f(e){var t;let{children:o}=e,f=(0,i.useRouter)(),[v,j]=(0,r.useState)(null),[w,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=l.j.onAuthStateChanged(e=>{j(e)});return()=>e()},[]);let y=e=>{f.push(e)},C=async()=>{try{await l.j.signOut(),f.push("/login")}catch(e){console.error("Erro ao fazer logout:",e)}},k=a.Ay.div.withConfig({componentId:"sc-1438e86f-7"})(["position:absolute;top:60px;right:16px;background:white;border-radius:",";box-shadow:",";padding:",";display:",";z-index:1000;"],c.w.rounded.md,c.w.shadows.lg,c.w.spacing.md,w?"block":"none"),S=a.Ay.button.withConfig({componentId:"sc-1438e86f-8"})(["display:block;width:100%;text-align:left;padding:",";background:transparent;border:none;cursor:pointer;color:",";border-radius:",";&:hover{background:#f5f5f5;}"],c.w.spacing.md,c.w.colors.text.primary,c.w.rounded.sm);return(0,n.jsxs)(d,{children:[(0,n.jsxs)(p,{children:[(0,n.jsxs)(u,{children:[(0,n.jsx)("img",{src:"/icons/icon-192x192.png",alt:"Logo",width:32,height:32}),"EduConnect"]}),v&&(0,n.jsx)(m,{onClick:()=>b(!w),children:v.photoURL?(0,n.jsx)("img",{src:v.photoURL,alt:v.displayName||v.email}):null==(t=v.email)?void 0:t.charAt(0).toUpperCase()}),(0,n.jsxs)(k,{children:[(0,n.jsx)(S,{onClick:()=>y("/profile"),children:"Meu Perfil"}),(0,n.jsx)(S,{onClick:C,children:"Sair"})]})]}),(0,n.jsx)(h,{children:o}),(0,n.jsxs)(x,{children:[(0,n.jsxs)(g,{active:"/home"===f.pathname,onClick:()=>y("/home"),children:[(0,n.jsx)(s.rQ8,{size:20}),(0,n.jsx)("span",{children:"Home"})]}),(0,n.jsxs)(g,{active:"/noticias"===f.pathname,onClick:()=>y("/noticias"),children:[(0,n.jsx)(s.Nhm,{size:20}),(0,n.jsx)("span",{children:"Not\xedcias"})]}),(0,n.jsxs)(g,{active:"/mensagens"===f.pathname,onClick:()=>y("/mensagens"),children:[(0,n.jsx)(s.uN,{size:20}),(0,n.jsx)("span",{children:"Mensagens"})]}),(0,n.jsxs)(g,{active:"/gerador"===f.pathname,onClick:()=>y("/gerador"),children:[(0,n.jsx)(s.ZPX,{size:20}),(0,n.jsx)("span",{children:"Gerador"})]}),(0,n.jsxs)(g,{active:"/profile"===f.pathname,onClick:()=>y("/profile"),children:[(0,n.jsx)(s.x$1,{size:20}),(0,n.jsx)("span",{children:"Perfil"})]})]})]})}},8172:(e,t,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return o(4850)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[671,329,371,101,636,593,792],()=>t(8172)),_N_E=e.O()}]);