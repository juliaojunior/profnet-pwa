(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[353],{3611:(e,n,i)=>{"use strict";i.d(n,{db:()=>c,j:()=>a});var t=i(6042),o=i(9917),r=i(2964);let s=(0,t.Wp)({apiKey:"AIzaSyCbcp-FQGx8XpQJZa4yxbXKEhXXWB40Y-8",authDomain:"profnet001-c5b7f.firebaseapp.com",projectId:"profnet001-c5b7f",storageBucket:"profnet001-c5b7f.firebasestorage.app",messagingSenderId:"1016559728126",appId:"1:1016559728126:web:65125d32db552946ca7caf"}),a=(0,o.xI)(s),c=(0,r.aU)(s)},5872:(e,n,i)=>{"use strict";i.r(n),i.d(n,{default:()=>N});var t=i(7876),o=i(4232),r=i(9099),s=i(9917),a=i(2964),c=i(3611),d=i(6101),l=i(7232),p=i(4081),g=i(8490);function h(e){return e?"number"==typeof e?new Date(e):"toDate"in e?e.toDate():"seconds"in e?new Date(1e3*e.seconds):null:null}function u(e){let n=Math.floor((Date.now()-e.getTime())/1e3);if(n<60)return"h\xe1 ".concat(n," s");let i=Math.floor(n/60);if(i<60)return"h\xe1 ".concat(i," min");let t=Math.floor(i/60);if(t<24)return"h\xe1 ".concat(t," h");let o=Math.floor(t/24);return"h\xe1 ".concat(o," d")}let m=l.Ay.div.withConfig({componentId:"sc-9236c821-0"})(["display:flex;justify-content:center;padding:",";background:",";min-height:100vh;@media (max-width:600px){padding:",";}"],g.w.spacing.lg,g.w.colors.background,g.w.spacing.md),x=l.Ay.div.withConfig({componentId:"sc-9236c821-1"})(["width:100%;max-width:600px;"]),f=l.Ay.form.withConfig({componentId:"sc-9236c821-2"})(["background:white;padding:",";border-radius:",";box-shadow:",";display:flex;gap:",";margin-bottom:",";@media (max-width:600px){flex-direction:column;padding:",";gap:",";}"],g.w.spacing.lg,g.w.rounded.md,g.w.shadows.sm,g.w.spacing.md,g.w.spacing.lg,g.w.spacing.md,g.w.spacing.sm),w=l.Ay.img.withConfig({componentId:"sc-9236c821-3"})(["width:48px;height:48px;border-radius:50%;@media (max-width:600px){width:36px;height:36px;}"]),y=l.Ay.textarea.withConfig({componentId:"sc-9236c821-4"})(["flex:1;border:none;resize:none;outline:none;font-size:16px;font-family:",";border-radius:8px;padding:8px;background:",";@media (max-width:600px){font-size:14px;padding:6px;}"],g.w.fonts.body,g.w.colors.cardBg),b=l.Ay.button.withConfig({componentId:"sc-9236c821-5"})(["background:",";color:white;padding:8px 16px;border:none;border-radius:20px;font-weight:bold;cursor:pointer;white-space:nowrap;@media (max-width:600px){align-self:flex-end;padding:6px 12px;font-size:14px;}"],g.w.colors.primary),j=l.Ay.form.withConfig({componentId:"sc-9236c821-6"})(["background:#f5f8fa;padding:"," ",";border-radius:",";display:flex;gap:",";margin-top:",";margin-left:",";@media (max-width:600px){margin-left:",";padding:",";}"],g.w.spacing.sm,g.w.spacing.lg,g.w.rounded.sm,g.w.spacing.sm,g.w.spacing.sm,g.w.spacing.xl,g.w.spacing.md,g.w.spacing.sm),v=l.Ay.textarea.withConfig({componentId:"sc-9236c821-7"})(["flex:1;border:1px solid #E6ECF0;border-radius:8px;padding:6px;font-size:14px;background:white;@media (max-width:600px){font-size:12px;}"]),C=l.Ay.ul.withConfig({componentId:"sc-9236c821-8"})(["list-style:none;padding:0;margin:0;"]),k=l.Ay.li.withConfig({componentId:"sc-9236c821-9"})(["background:white;padding:",";border-bottom:1px solid #e6ecf0;display:flex;gap:",";@media (max-width:600px){flex-direction:column;padding:",";gap:",";}"],g.w.spacing.lg,g.w.spacing.md,g.w.spacing.md,g.w.spacing.sm),I=l.Ay.div.withConfig({componentId:"sc-9236c821-10"})([" flex:1;"]),z=l.Ay.div.withConfig({componentId:"sc-9236c821-11"})(["display:flex;align-items:center;gap:",";margin-bottom:",";> strong{font-weight:700;}> span{color:",";font-size:14px;margin-left:8px;}@media (max-width:600px){flex-direction:column;align-items:flex-start;> span{margin-left:0;font-size:12px;}}"],g.w.spacing.sm,g.w.spacing.sm,g.w.colors.text.secondary),A=l.Ay.p.withConfig({componentId:"sc-9236c821-12"})(["margin:0;font-size:16px;line-height:1.4;@media (max-width:600px){font-size:14px;}"]),O=l.Ay.div.withConfig({componentId:"sc-9236c821-13"})(["display:flex;gap:",";margin-top:",";color:",";@media (max-width:600px){gap:",";font-size:14px;}"],g.w.spacing.lg,g.w.spacing.sm,g.w.colors.text.secondary,g.w.spacing.md),E=l.Ay.button.withConfig({componentId:"sc-9236c821-14"})(["background:none;border:none;color:",";cursor:pointer;font-size:14px;padding:"," 0;margin-left:",";&:hover{text-decoration:underline;}"],g.w.colors.primary,g.w.spacing.sm,g.w.spacing.xl),S=l.Ay.button.withConfig({componentId:"sc-9236c821-15"})(["display:flex;align-items:center;gap:4px;background:none;border:none;color:inherit;cursor:pointer;font-size:14px;&:hover{color:",";}&:disabled{opacity:0.6;cursor:default;}"],g.w.colors.primary);function N(){var e;let n=(0,r.useRouter)(),[i,l]=(0,o.useState)(!0),[N,U]=(0,o.useState)([]),[P,_]=(0,o.useState)(""),[R,B]=(0,o.useState)(null),[L,D]=(0,o.useState)(""),[M,X]=(0,o.useState)([]),q=(0,o.useRef)(null);(0,o.useEffect)(()=>(0,s.hg)(c.j,e=>{if(!e)return void n.replace("/login");let i=(0,a.P)((0,a.rJ)(c.db,"mensagens"),(0,a.My)("data","desc"));return(0,a.aQ)(i,e=>{U(e.docs.map(e=>({id:e.id,...e.data()}))),l(!1)})}),[n]);let K=async e=>{e.preventDefault();let n=c.j.currentUser;if(n&&(R?L.trim():P.trim()))if(await (0,a.gS)((0,a.rJ)(c.db,"mensagens"),{texto:R?L.trim():P.trim(),uid:n.uid,autor:n.displayName||n.email,photoURL:n.photoURL||null,data:(0,a.O5)(),likes:0,likedBy:[],...R?{parentId:R}:{}}),R)D(""),B(null);else{var i;_(""),null==(i=q.current)||i.focus()}},Q=async e=>{var n;let i=c.j.currentUser;if(!i)return;let t=N.find(n=>n.id===e);null!=t&&null!=(n=t.likedBy)&&n.includes(i.uid)||await (0,a.mZ)((0,a.H9)(c.db,"mensagens",e),{likes:(0,a.GV)(1),likedBy:(0,a.hq)(i.uid)})},Z=async(e,n)=>{let i=c.j.currentUser;i&&i.uid===n&&confirm("Deseja realmente deletar esta mensagem?")&&await (0,a.kd)((0,a.H9)(c.db,"mensagens",e))};return i?null:(0,t.jsx)(d.P,{children:(0,t.jsx)(m,{children:(0,t.jsxs)(x,{children:[(0,t.jsxs)(f,{onSubmit:K,children:[(0,t.jsx)(w,{src:(null==(e=c.j.currentUser)?void 0:e.photoURL)||"/icons/icon-192x192.png",alt:"avatar"}),(0,t.jsx)(y,{ref:q,rows:3,value:P,onChange:e=>_(e.target.value),placeholder:"O que est\xe1 acontecendo?"}),(0,t.jsx)(b,{type:"submit",disabled:!P.trim(),children:(0,t.jsx)(p.Cer,{})})]}),(0,t.jsx)(C,{children:N.filter(e=>!e.parentId).map(e=>{var n,i;let r=h(e.data),s=null==(n=c.j.currentUser)?void 0:n.uid,a=null==(i=e.likedBy)?void 0:i.includes(s||""),d=N.filter(n=>n.parentId===e.id),l=M.includes(e.id);return(0,t.jsx)(o.Fragment,{children:(0,t.jsxs)(k,{children:[(0,t.jsx)(w,{src:e.photoURL||"/icons/icon-192x192.png",alt:"avatar"}),(0,t.jsxs)(I,{children:[(0,t.jsxs)(z,{children:[(0,t.jsx)("strong",{children:e.autor}),r&&(0,t.jsx)("span",{children:u(r)})]}),(0,t.jsx)(A,{children:e.texto}),(0,t.jsxs)(O,{children:[(0,t.jsxs)(S,{onClick:()=>Q(e.id),disabled:a,children:[(0,t.jsx)(p.sOK,{})," ",e.likes]}),(0,t.jsxs)(S,{onClick:()=>B(e.id),children:[(0,t.jsx)(p.w1Z,{})," Responder"]}),s===e.uid&&(0,t.jsx)(S,{onClick:()=>Z(e.id,e.uid),children:(0,t.jsx)(p.qbC,{})})]}),d.length>0&&(0,t.jsx)(E,{onClick:()=>X(n=>n.includes(e.id)?n.filter(n=>n!==e.id):[...n,e.id]),children:l?"Ocultar respostas (".concat(d.length,")"):"Ver respostas (".concat(d.length,")")}),l&&d.map(e=>{var n;let i=h(e.data),o=null==(n=e.likedBy)?void 0:n.includes(s||"");return(0,t.jsxs)(k,{style:{marginLeft:g.w.spacing.xl,background:"#f9f9f9"},children:[(0,t.jsx)(w,{src:e.photoURL||"/icons/icon-192x192.png",alt:"avatar"}),(0,t.jsxs)(I,{children:[(0,t.jsxs)(z,{children:[(0,t.jsx)("strong",{children:e.autor}),i&&(0,t.jsx)("span",{children:u(i)})]}),(0,t.jsx)(A,{children:e.texto}),(0,t.jsxs)(O,{children:[(0,t.jsxs)(S,{onClick:()=>Q(e.id),disabled:o,children:[(0,t.jsx)(p.sOK,{})," ",e.likes]}),s===e.uid&&(0,t.jsx)(S,{onClick:()=>Z(e.id,e.uid),children:(0,t.jsx)(p.qbC,{})})]})]})]},e.id)}),R===e.id&&(0,t.jsxs)(j,{onSubmit:K,children:[(0,t.jsx)(v,{rows:2,value:L,onChange:e=>D(e.target.value),placeholder:"Escreva sua respostaâ€¦"}),(0,t.jsx)(b,{type:"submit",disabled:!L.trim(),children:(0,t.jsx)(p.Cer,{})}),(0,t.jsx)(b,{type:"button",onClick:()=>{B(null),D("")},children:"\xd7"})]})]})]})},e.id)})})]})})})}},5965:(e,n,i)=>{"use strict";i.d(n,{k5:()=>c});var t=i(4232),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r=t.createContext&&t.createContext(o),s=function(){return(s=Object.assign||function(e){for(var n,i=1,t=arguments.length;i<t;i++)for(var o in n=arguments[i])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},a=function(e,n){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>n.indexOf(t)&&(i[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)0>n.indexOf(t[o])&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(i[t[o]]=e[t[o]]);return i};function c(e){return function(n){return t.createElement(d,s({attr:s({},e.attr)},n),function e(n){return n&&n.map(function(n,i){return t.createElement(n.tag,s({key:i},n.attr),e(n.child))})}(e.child))}}function d(e){var n=function(n){var i,o=e.attr,r=e.size,c=e.title,d=a(e,["attr","size","title"]),l=r||n.size||"1em";return n.className&&(i=n.className),e.className&&(i=(i?i+" ":"")+e.className),t.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,d,{className:i,style:s(s({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),c&&t.createElement("title",null,c),e.children)};return void 0!==r?t.createElement(r.Consumer,null,function(e){return n(e)}):n(o)}},6101:(e,n,i)=>{"use strict";i.d(n,{P:()=>f});var t=i(7876),o=i(7232),r=i(9099),s=i(4232),a=i(4081),c=i(3611),d=i(8490);let l=o.Ay.div.withConfig({componentId:"sc-1438e86f-0"})(["min-height:100vh;padding-bottom:80px;position:relative;"]),p=o.Ay.header.withConfig({componentId:"sc-1438e86f-1"})(["background:",";padding:",";box-shadow:",";position:sticky;top:0;z-index:10;display:flex;justify-content:space-between;align-items:center;"],d.w.colors.cardBg,d.w.spacing.md,d.w.shadows.sm),g=o.Ay.div.withConfig({componentId:"sc-1438e86f-2"})(["display:flex;align-items:center;gap:",";font-family:",";font-weight:700;font-size:1.2rem;color:",";"],d.w.spacing.sm,d.w.fonts.heading,d.w.colors.primary),h=o.Ay.main.withConfig({componentId:"sc-1438e86f-3"})(["padding:",";max-width:1200px;margin:0 auto;"],d.w.spacing.lg),u=o.Ay.nav.withConfig({componentId:"sc-1438e86f-4"})(["position:fixed;bottom:0;left:0;right:0;background:",";display:flex;justify-content:space-around;padding:"," 0;box-shadow:0 -2px 10px rgba(0,0,0,0.05);z-index:100;"],d.w.colors.cardBg,d.w.spacing.sm),m=o.Ay.button.withConfig({componentId:"sc-1438e86f-5"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;color:",";background:transparent;border:none;cursor:pointer;padding:",";font-size:0.75rem;transition:color ",";&:hover{color:",";}"],e=>e.active?d.w.colors.primary:d.w.colors.text.secondary,d.w.spacing.sm,d.w.transitions.fast,d.w.colors.primary),x=o.Ay.div.withConfig({componentId:"sc-1438e86f-6"})(["width:40px;height:40px;border-radius:50%;background-color:",";color:white;display:flex;align-items:center;justify-content:center;font-weight:bold;cursor:pointer;overflow:hidden;img{width:100%;height:100%;object-fit:cover;}"],d.w.colors.primary);function f(e){var n;let{children:i}=e,f=(0,r.useRouter)(),[w,y]=(0,s.useState)(null),[b,j]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=c.j.onAuthStateChanged(e=>{y(e)});return()=>e()},[]);let v=e=>{f.push(e)},C=async()=>{try{await c.j.signOut(),f.push("/login")}catch(e){console.error("Erro ao fazer logout:",e)}},k=o.Ay.div.withConfig({componentId:"sc-1438e86f-7"})(["position:absolute;top:60px;right:16px;background:white;border-radius:",";box-shadow:",";padding:",";display:",";z-index:1000;"],d.w.rounded.md,d.w.shadows.lg,d.w.spacing.md,b?"block":"none"),I=o.Ay.button.withConfig({componentId:"sc-1438e86f-8"})(["display:block;width:100%;text-align:left;padding:",";background:transparent;border:none;cursor:pointer;color:",";border-radius:",";&:hover{background:#f5f5f5;}"],d.w.spacing.md,d.w.colors.text.primary,d.w.rounded.sm);return(0,t.jsxs)(l,{children:[(0,t.jsxs)(p,{children:[(0,t.jsxs)(g,{children:[(0,t.jsx)("img",{src:"/icons/icon-192x192.png",alt:"Logo",width:32,height:32}),"EduConnect"]}),w&&(0,t.jsx)(x,{onClick:()=>j(!b),children:w.photoURL?(0,t.jsx)("img",{src:w.photoURL,alt:w.displayName||w.email}):null==(n=w.email)?void 0:n.charAt(0).toUpperCase()}),(0,t.jsxs)(k,{children:[(0,t.jsx)(I,{onClick:()=>v("/profile"),children:"Meu Perfil"}),(0,t.jsx)(I,{onClick:C,children:"Sair"})]})]}),(0,t.jsx)(h,{children:i}),(0,t.jsxs)(u,{children:[(0,t.jsxs)(m,{active:"/home"===f.pathname,onClick:()=>v("/home"),children:[(0,t.jsx)(a.rQ8,{size:20}),(0,t.jsx)("span",{children:"Home"})]}),(0,t.jsxs)(m,{active:"/noticias"===f.pathname,onClick:()=>v("/noticias"),children:[(0,t.jsx)(a.Nhm,{size:20}),(0,t.jsx)("span",{children:"Not\xedcias"})]}),(0,t.jsxs)(m,{active:"/mensagens"===f.pathname,onClick:()=>v("/mensagens"),children:[(0,t.jsx)(a.uN,{size:20}),(0,t.jsx)("span",{children:"Mensagens"})]}),(0,t.jsxs)(m,{active:"/gerador"===f.pathname,onClick:()=>v("/gerador"),children:[(0,t.jsx)(a.ZPX,{size:20}),(0,t.jsx)("span",{children:"Gerador"})]}),(0,t.jsxs)(m,{active:"/profile"===f.pathname,onClick:()=>v("/profile"),children:[(0,t.jsx)(a.x$1,{size:20}),(0,t.jsx)("span",{children:"Perfil"})]})]})]})}},9164:(e,n,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/mensagens",function(){return i(5872)}])}},e=>{var n=n=>e(e.s=n);e.O(0,[671,329,371,101,636,593,792],()=>n(9164)),_N_E=e.O()}]);